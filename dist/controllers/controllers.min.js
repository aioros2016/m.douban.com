"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1),document.body.addEventListener("touchstart",function(){},!1),angular.module("singlePage",["ngRoute","mainMod","movieMod","bookMod","radioMod","teamMod","detailMod"]).config(["$routeProvider",function($routeProvider){$routeProvider.when("/main",{templateUrl:"./views/main.html",controller:"mainController"}).when("/movie",{templateUrl:"./views/movie.html",controller:"movieController"}).when("/book",{templateUrl:"./views/book.html",controller:"bookController"}).when("/radio",{templateUrl:"./views/radio.html",controller:"radioController"}).when("/team",{templateUrl:"./views/team.html",controller:"teamController"}).when("/detail/:articleId",{templateUrl:"views/detail.html",controller:"detailController"}).otherwise({redirectTo:"/main"})}]).controller("indexController",function($scope){$scope.showPop=!0,$scope.iconSearch={background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABGdBTUEAALGPC/xhBQAABUlJREFUaAXdWT1oHEcU1unHR8ih0lZEKsWVkSrLkFaVQIYkJ93JBBUp0hm7sdMJbOlAnR0ICDdJk4AL6++wi8PChXAXMG6CMSmSTpZlFy7EmWBLQvm+5c3ydrTam9nblXQeWM2bN/N+vntvZ2afuro+sVZoB0+9Xv9qd3f3W+i4WCgUBg8ODgZB82HbAm8LvC3Qz/v6+h6Wy+V/g5kc/3gDWltbO7u/v38Njpbh17Cnby8Ast7T07M4OTn51lPWabkzoKWlpRKcuQkgP0FzyUn70Yua0HUHuu5OT083j17mP+MEaHl5eRLG70H9OX8TiRJvAOxqtVpdS1zlMZkICCAKKysrt6DvNukYvR/B24BTj9C/RCpt7e3t8Z3p6u3tHURq8n26ANlv0I/hOYMn0iB7AMZ8pVKpCR2Z9x3EORnoQIp9BuIPPJUYpdvg1Uql0v2JiYmdmPlDrEaj0d9sNmcwwR9owF4AMMsA/gNS8D97zmccC4jRQJotQVEEDIx+AG+hv7//5/Hx8fc+hsza9fX1z3d2dm5gPAs7RcNnT1CI1JV2IhULCGBuw9icNgZ6GylVnpqa+tPipxqurq5+jZSsQzgSLYCZwzs1n0ophA4B4gYA/gqjZJTCyF/d3d2XAWbT8LLoAepLgGpA14jRJ9GppN0oQqepkFszun/w6N2MkbmUNRjaYxNQz0DqSL3B+HyaLb2bSk3Dr3MTdAgG4w+SZplGxthjzx+KNmhL8c+JL4rlRoaAeANAmvHQ1G0hq3dGK7VpsbGg+fSFPmmeCx0CQi5fh4C+AWxzN3NRksUascXjwLQSfLpmBq59CAi/yHeWUC3t1mzpcRqKrZpeDJ94X/RqASDemiE1rCQ/8tBU42MhxSZvH6YNi29m3LIPAMkngF684XoD0ELt0mJzQ+uJ8U1PH6JNyl3UM9hheDc7kRZjO+JbK6cCQFBiPsrM+peGOIE+YjvGt0SXAkB4+SKAcC4EN+ZEyZwmbdu2b63MmpSLADKfAK2E85iPsR3xrZVNk3L8JglbsViMXInCiWMgYmx7+WJS7rX2FQfaF3p8nHSMba/ag4lQ5J2BUq8wZwk4xjYvqs7NRCgCCNIXnDVkv9C2/crHRAAIAs+1EHYW1gBOpNm2sW0/9XEkAMQioCU0xhqAxct9KDbHtCEAeqLHregAkFQ0X6jFZ6SgoVj5k2IzrAwBzCZqDH/7WDYpxwIFv+91u8WChmbkSYstVoTChvT7NRw4EiEgnNCLkGkquQGpzihWfqTY0p/hrCrRJ68WAmKtGVG6Y0nPsjpj8TIfio1ZS/FvqCm8s3gthyEgrkSI76IL932MizgX6ixktNSUcoEUSeq0pVTwGKmpsTMZAcQqC6J0FY++Cg0AVCMPUAKGZSydanT+xzTRoWAEEBlSD5snrdoIQD2DA5mlH3VRJ2yENTmx9whgHivbXmTsxQ/hZ5H+Afqq1obI5VoKFlv76GcA6oG27UrHAqIwi/UA8LsNShRnXqy3HE4N6khANCCRyvXfKQKEn/yX8fTImF0qUImAjPIc/+HF3YwbwGNkxBXQrDS1BerQpmBA6F42ivNIwTnw9eGrl/nQPDR/wTNiNgB5Z2bAY2RMI7j7AtbwEnunCGkN7fzTGD/IJtKY15lFAIg9NNuNlDcgDS7h3/rUyy9NHtKvAOQpnieuF812QLUFSIPLmk4L6tQC4g+UBtSpBpQG1KkH5AuqIwD5gOoYQK6gOgqQCyinmwIVnZaWcKMIvgw6DhB/WBsUDu2HQ0ND33Ou41KOTpsm51SVYEZHR3cN/5Pq/wfEdlFyq1lD2AAAAABJRU5ErkJggg==) no-repeat 50%","background-color":"#f3f3f3","background-size":"auto 70%"},$scope.rnd=function(n,m){return parseInt(Math.random()*(m-n)+n)},$scope.rndColor={color:"rgb("+$scope.rnd(0,255)+","+$scope.rnd(0,255)+","+$scope.rnd(0,255)+")"},$scope.quickMenu=document.querySelectorAll(".menu-box a");for(var i=0;i<$scope.quickMenu.length;i++)$scope.r=$scope.rnd(0,255),$scope.g=$scope.rnd(0,255),$scope.b=$scope.rnd(0,255),$scope.quickMenu[i].style.color="rgb("+$scope.r+","+$scope.g+","+$scope.b+")"}).directive("onFinishRender",function($timeout){return{restrict:"A",link:function(scope,element,attr){scope.$last===!0&&$timeout(function(){scope.$emit("ngRepeatFinished")})}}}).filter("showAsHtml",function($sce){return function(input){return $sce.trustAsHtml(input)}}),angular.module("mainMod",[]).controller("mainController",function($scope,$http,$location,$anchorScroll){$scope.page=1,$scope.pageLen=3,$scope.arr=[],$scope.loadPage=function(){$scope.page++,$scope.getData($scope.page),console.log($scope.arr)},$scope.getData=function(page){$http.get("json/main"+page+".json").success(function(res){$scope.list=res.list;for(var json in $scope.list)$scope.arr.push($scope.list[json])}).error(function(){alert("载入失败")})},$scope.getData(1),$scope.gotop=function(){$location.hash("top"),$anchorScroll()}}),angular.module("movieMod",[]).controller("movieController",function($scope,$http){$http.get("json/movie1.json").success(function(res){$scope.json=res,$scope.$on("ngRepeatFinished",function(ngRepeatFinishedEvent){$scope.swiper=new Swiper(".rank1",{slidesPerView:"auto",freeMode:!0,observer:!0,observeParents:!0,resistanceRatio:0}),$scope.swiper2=new Swiper(".rank2",{slidesPerView:"auto",freeMode:!0,observer:!0,observeParents:!0,resistanceRatio:0}),$scope.swiper3=new Swiper(".rank3",{slidesPerView:"auto",freeMode:!0,observer:!0,observeParents:!0,resistanceRatio:0}),$scope.swiper4=new Swiper(".find-movie",{direction:"horizontal",slidesPerView:"auto",freeMode:!0,observer:!0,observeParents:!0,resistanceRatio:0})})}).error(function(){alert("载入失败")})}),angular.module("bookMod",[]).controller("bookController",function($scope,$http){$http.get("json/book1.json").success(function(res){$scope.json=res,$scope.$on("ngRepeatFinished",function(ngRepeatFinishedEvent){$scope.swiper=new Swiper(".rank1",{slidesPerView:"auto",freeMode:!0,observer:!0,observeParents:!0,resistanceRatio:0}),$scope.swiper2=new Swiper(".rank2",{slidesPerView:"auto",freeMode:!0,observer:!0,observeParents:!0,resistanceRatio:0}),$scope.swiper3=new Swiper(".rank3",{slidesPerView:"auto",freeMode:!0,observer:!0,observeParents:!0,resistanceRatio:0}),$scope.swiper4=new Swiper(".find-book",{direction:"horizontal",slidesPerView:"auto",freeMode:!0,observer:!0,observeParents:!0,resistanceRatio:0})})}).error(function(){alert("载入失败")})}),angular.module("radioMod",[]).controller("radioController",function($scope,$http){$http.get("json/radio1.json").success(function(res){$scope.list=res.radio1}).error(function(){alert("载入失败")})}),angular.module("teamMod",[]).controller("teamController",function($scope,$http){$http.get("json/team1.json").success(function(res){$scope.arr=res}).error(function(){alert("载入失败")}),$scope.getDateDiff=function(dateTimeStamp){var minute=6e4,hour=60*minute,day=24*hour,month=30*day,now=(new Date).getTime(),diffValue=now-dateTimeStamp;if(!(diffValue<0)){var monthC=diffValue/month,weekC=diffValue/(7*day),dayC=diffValue/day,hourC=diffValue/hour,minC=diffValue/minute;return monthC>=1?result=""+parseInt(monthC)+"月前更新":weekC>=1?result=""+parseInt(weekC)+"周前更新":dayC>=1?result=""+parseInt(dayC)+"天前更新":hourC>=1?result=""+parseInt(hourC)+"小时前更新":minC>=1?result=""+parseInt(minC)+"分钟前更新":result="刚刚更新",result}}}),angular.module("detailMod",[]).controller("detailController",function($scope,$http,$routeParams){$scope.storage=window.localStorage,$scope.articleId=$routeParams.articleId,$scope.detail=[],$scope.s=$scope.storage.getItem("likes"+$scope.articleId),$http.get("json/detail"+$scope.articleId+".json").success(function(res){$scope.detail=res.data,$scope.s||($scope.storage.setItem("likes"+$scope.articleId,$scope.detail.likes),$scope.s=$scope.detail.likes),window._bd_share_main.init()}),$scope.iLike=function(){$scope.parseInt=parseInt,$scope.s++,$scope.storage.setItem("likes"+$scope.articleId,parseInt($scope.s))}}).directive("showfull",function(){return{restrict:"A",replace:!0,template:'<div class="content-box" style="height: {{showfull?\'auto\':\'60em\'}};">\t\t\t<div class="text" ng-bind-html="detail.content|showAsHtml"></div>\t\t\t<div class="likes" ng-click="iLike()">{{s}}</div>\t\t</div>'}});